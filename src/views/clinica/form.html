<h1 class="text-center">{{action}} Clinica</h1> <hr/>

{{status}}

<form method="POST" class="">
    <div class="form-group">
        <label for="">Nome:</label>
        <input type="text" id="nome" name="nome" class="form-control" value="{{nome}}" required />
    </div>

    <div class="form-group my-3">
        <label for="">Telefone:</label>
        <input type="text" id="telefone" name="telefone" class="form-control" maxlength="15" minlength="15" value="{{telefone}}" required />
    </div>

    <div class="form-group my-3">
        <label for="">E-mail:</label>
        <input type="email" id="email" name="email" class="form-control" value="{{email}}" required />
    </div>

    <div class="form-group">
        <button type="submit" class="btn btn-success">{{action}}</button>
    </div>
</form>

<script>
    window.addEventListener("DOMContentLoaded", (event) => {
        let telefone = document.querySelector('#telefone');

        if(document.body.contains(telefone)){
            telefone.addEventListener('keyup', function() {
                telefone.value = mascaraTelefone(telefone.value);
            });
        }
    });

    function mascaraTelefone(value){
        if (!value) return "";

        value = value.replace(/\D/g,'');
        value = value.replace(/(\d{2})(\d)/,"($1) $2");
        value = value.replace(/(\d)(\d{4})$/,"$1-$2");

        return value;
    }
</script>